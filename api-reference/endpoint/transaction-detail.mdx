---
title: "Detalhes da Transação"
api: "GET https://carteira.nevermissapps.com/v1/transactions/{txid}"
description: "Retorna detalhes completos de uma transação específica"
---

## Descrição

Retorna informações detalhadas de uma transação específica pelo ID, incluindo metadados e informações de saque (se aplicável).

## Path Parameters

<ParamField path="txid" type="string" required>
  ID da transação
</ParamField>

## Headers

<ParamField header="Authorization" type="string" required>
  Bearer token com sua API Key
</ParamField>

## Response

<ResponseField name="success" type="boolean">
  Indica sucesso
</ResponseField>

<ResponseField name="transaction" type="object">
  Detalhes completos da transação
  
  <Expandable title="properties">
    <ResponseField name="txid" type="string">
      ID da transação
    </ResponseField>
    
    <ResponseField name="amount" type="number">
      Valor total
    </ResponseField>
    
    <ResponseField name="netAmount" type="number">
      Valor líquido
    </ResponseField>
    
    <ResponseField name="fee" type="number">
      Taxa cobrada
    </ResponseField>
    
    <ResponseField name="type" type="string">
      `payment` ou `withdrawal`
    </ResponseField>
    
    <ResponseField name="status" type="string">
      Status da transação
    </ResponseField>
    
    <ResponseField name="paymentType" type="string">
      Tipo específico: `link` para pagamentos, `normal` ou `turbo` para saques
    </ResponseField>
    
    <ResponseField name="metadata" type="object">
      Dados adicionais da transação
    </ResponseField>
    
    <ResponseField name="withdrawalInfo" type="object">
      Informações de saque (somente para type=withdrawal)
    </ResponseField>
    
    <ResponseField name="createdAt" type="number">
      Timestamp de criação
    </ResponseField>
    
    <ResponseField name="updatedAt" type="number">
      Timestamp da última atualização
    </ResponseField>
  </Expandable>
</ResponseField>

<RequestExample>

```bash cURL
curl -X GET https://carteira.nevermissapps.com/v1/transactions/ABC123XYZ \
  -H "Authorization: Bearer SUA_API_KEY"
```

```javascript Node.js
const txid = 'ABC123XYZ';
const response = await fetch(
  `https://carteira.nevermissapps.com/v1/transactions/${txid}`,
  { headers: { 'Authorization': 'Bearer SUA_API_KEY' } }
);

const data = await response.json();
console.log(data.transaction);
```

```python Python
import requests

txid = 'ABC123XYZ'
response = requests.get(
    f'https://carteira.nevermissapps.com/v1/transactions/{txid}',
    headers={'Authorization': 'Bearer SUA_API_KEY'}
)

data = response.json()
print(data['transaction'])
```

```php PHP
<?php
$txid = 'ABC123XYZ';
$ch = curl_init("https://carteira.nevermissapps.com/v1/transactions/$txid");

curl_setopt($ch, CURLOPT_HTTPHEADER, [
    'Authorization: Bearer SUA_API_KEY'
]);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);

$response = curl_exec($ch);
$data = json_decode($response);
curl_close($ch);

print_r($data->transaction);
?>
```

</RequestExample>

<ResponseExample>

```json Pagamento (200)
{
  "success": true,
  "transaction": {
    "txid": "ABC123XYZ",
    "amount": 49.90,
    "netAmount": 46.41,
    "fee": 3.49,
    "type": "payment",
    "status": "approved",
    "paymentType": "link",
    "metadata": {
      "description": "Plano Premium - Mensal",
      "redirectUrl": "https://exemplo.com/sucesso"
    },
    "withdrawalInfo": null,
    "createdAt": 1698765432000,
    "updatedAt": 1698765532000
  }
}
```

```json Saque Normal (200)
{
  "success": true,
  "transaction": {
    "txid": "WD1698765432ABC",
    "amount": 150.75,
    "netAmount": 150.25,
    "fee": 0.50,
    "type": "withdrawal",
    "status": "scheduled",
    "paymentType": "normal",
    "metadata": {},
    "withdrawalInfo": {
      "pixKey": "empresa@example.com",
      "scheduledFor": 1698851832000
    },
    "createdAt": 1698765432000,
    "updatedAt": 1698765432000
  }
}
```

```json Saque Turbo (200)
{
  "success": true,
  "transaction": {
    "txid": "WD1698765432ABC",
    "amount": 150.75,
    "netAmount": 148.25,
    "fee": 2.50,
    "type": "withdrawal",
    "status": "processing",
    "paymentType": "turbo",
    "metadata": {
      "transfeera_id": "TRF123456"
    },
    "withdrawalInfo": {
      "pixKey": "empresa@example.com",
      "transferId": "TRF123456"
    },
    "createdAt": 1698765432000,
    "updatedAt": 1698765432000
  }
}
```

```json Erro - Não encontrado (404)
{
  "error": "Not Found",
  "message": "Transaction not found"
}
```

</ResponseExample>

## Diferenças entre Tipos

### Pagamento (type: payment)

- **paymentType**: `link`
- **metadata**: Contém `description` e `redirectUrl` (se fornecida)
- **withdrawalInfo**: `null`
- **status**: `pending`, `approved`, `refunded`

### Saque (type: withdrawal)

- **paymentType**: `normal` ou `turbo`
- **metadata**: Pode conter `transfeera_id` (saques turbo)
- **withdrawalInfo**: Informações do saque (chave PIX, agendamento)
- **status**: `scheduled`, `processing`, `approved`

## Casos de Uso

<AccordionGroup>
  <Accordion title="Verificar detalhes de um pagamento" icon="magnifying-glass">
    ```javascript
    const { transaction } = await fetch(
      `https://carteira.nevermissapps.com/v1/transactions/${txid}`,
      { headers: { 'Authorization': `Bearer ${API_KEY}` } }
    ).then(r => r.json());
    
    console.log(`Status: ${transaction.status}`);
    console.log(`Descrição: ${transaction.metadata.description}`);
    ```
  </Accordion>
  
  <Accordion title="Acompanhar saque" icon="clock">
    ```javascript
    const { transaction } = await fetch(
      `https://carteira.nevermissapps.com/v1/transactions/${withdrawalTxid}`,
      { headers: { 'Authorization': `Bearer ${API_KEY}` } }
    ).then(r => r.json());
    
    if (transaction.paymentType === 'normal') {
      const scheduledDate = new Date(transaction.withdrawalInfo.scheduledFor);
      console.log(`Saque agendado para: ${scheduledDate}`);
    } else {
      console.log('Saque turbo em processamento');
    }
    ```
  </Accordion>
  
  <Accordion title="Auditar transação reembolsada" icon="rotate-left">
    ```javascript
    const { transaction } = await fetch(
      `https://carteira.nevermissapps.com/v1/transactions/${txid}`,
      { headers: { 'Authorization': `Bearer ${API_KEY}` } }
    ).then(r => r.json());
    
    if (transaction.status === 'refunded') {
      console.log(`Reembolsado: R$ ${transaction.amount}`);
      console.log(`Taxa perdida: R$ ${transaction.fee}`);
    }
    ```
  </Accordion>
</AccordionGroup>

<Info>
Este endpoint é útil quando você precisa de informações completas sobre uma transação específica, incluindo metadados e detalhes de saque. Use `GET /v1/payment/status/:txid` para verificações rápidas de status.
</Info>
